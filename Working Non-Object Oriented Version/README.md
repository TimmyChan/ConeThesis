# Computational Verification of the Cone Conjecture

Written and tested in Ubuntu 16.04.4 LTS (xenial). Used the development branch of SAGE also.

This is a computational experiment, implementing the Top Down and Bottom Up algorithms found in "The Poset of Rational Cones" (https://msp.org/pjm/2018/292-1/p05.xhtml)

## Getting Started

### Dependencies
SAGE - Make sure to compile SAGE from source so that custom packages can be used! Download the developer branch from git.

```
https://github.com/sagemath/sage
```

Similarly, make Normaliz and PyNormaliz. *Need to document the installation process for getting the development branch*
pyNormaliz2

Check ticket #25090
``` https://trac.sagemath.org/ticket/25090```
Once closed.

1) Update sage by navigating to the sage folder, then do the following four commands:
```
1)	git checkout develop
2)	make
3)	sage -i normaliz
4)	sage -i pynormaliz
``` 

Check when a ticket is merged in which version:
https://groups.google.com/forum/#!forum/sage-release

### Instructions
Install dependencies then simply run
```
sage Experiment.py 
```
The data will be outputted into the folder "DATA", with the dimension and the date/time the experiment was run as the name of the data file for that particular file.


### Modules

#### Experiment.py
Wrapper file, defines global variables and calls on generateInitialConditions  
	----- Variables -----  
	RMIN, RMAX  
		variables that control random number generators  
	numgen   
		number of generators used in generateCone()  


#### Init.py 
Generates Initial Conditions for the experiment.  
	----- Functions -----  
	generateRandomVector(dim, RMIN, RMAX, verbose=False)  
		GCD_List(args): Returns  
		GCD(a,b): Returns gcd of a and b, returns a if b = 0.  
	generateCone(dim, numgen, RMIN, RMAX, verbose=False)  
		Generates proper full dimensional cone.  
	generateOutsideVector(dim, SAGECone, RMIN, RMAX, verbose=False)  
		Takes a cone, called SAGECone, and generates a vector v outside of the cone such that v and -v are both not in SAGECone.  
	generateInitialConditions(dim, gencount, RMIN, RMAX, verbose=False)  
		Calls the above functions, and returns C, D, v, where C is contained in D, with D as the conical hull of C and v.


#### TopDown.py 
Implements the Top Down Algorithm as described in "The Poset of Rational Cones"  
	----- Functions -----  
	TopDownTrial(C,D,v, verbose=False)  
		Conducts the experiment using the TopDown algorithm  
	TopDownStep(C,D,v, verbose=False)  
		Conducts one step of the algorithm
		Takes Hilbert Basis of D, removes shortest extremal ray of D not contained in C
		Takes conical hull of vectors remaining from previous step, return this intermediate cone.

##Future Plans
- Rewrite procedural code into object oriented version, to preserve sequences generated by TopDown & BottomUp
- Add analysis step to go over a cone sequence to find the hilbert basis of each (for BottomUp)
- Organize and save data so that it can be retrieved to continue work.

##Changelog:
5/20/18 - v0.9 complete working prototype, passed Dr. Gubeladze's verification of homogenous cases for dimension 2 and 3.
Before 5/20/18
v0.8 I/O improvements, allows for inputting custom inner/outer cones with error checking.
v0.7 Fixed import issues and began using fork of SAGE that includes PyNormaliz2
v0.6 I/O improvements, allows for choosing which program and dimension with error checking
v0.5 Completed outputing data to file instead of to terminal
v0.4 Combined TopDown and BottomUp into one experiment 
v0.3 Added BottomUp Algorithm
v0.2 Generalized TopDown Algorithm for any dimensions > 2
v0.1 Added TopDown Algorithm for dimensions 3, 4 and 5.